!function(n){n.module("ionicUndo.directives",[]).directive("ionUndoBar",["$ionicUndo","$ionicUndoConfig",function(n,o){return{restrict:"E",scope:!0,template:'<div class="bar ionic-undo-bar {{background}}-bg {{color}}"ng-if="data.length > 0 && isAndroid"ng-click="restore()"><span class="ionic-undo-left {{color}}">{{data.length}} {{text.deleted}}</span><span class="ionic-undo-right {{color}}">{{text.undo}}</span></div>',link:function(t){t.background=o.background,t.color=o.color,t.text=n.getText(),t.data=n.getData(!0),t.isAndroid=ionic.Platform.isAndroid()&&o.isAndroid,t.restore=n.restore,t.$on("$stateChangeStart",n.clear)}}}]).directive("ionUndoButton",["$ionicUndo","$ionicUndoConfig",function(n,o){return{restrict:"E",scope:!0,template:'<button class="button button-icon {{icon}}"ng-if="data.length > 0 && isIos"ng-click="restore()"></button>',link:function(t){t.data=n.getData(!0),t.icon=o.icon,t.isIos=!ionic.Platform.isAndroid()&&o.isIos,t.restore=n.restore,t.$on("$stateChangeStart",n.clear)}}}]),n.module("ionicUndo.providers",[]).provider("$ionicUndoConfig",function(){var n=ionic.Platform.isAndroid(),o="dark",t="light",i="deleted",e="ion-ios-undo",r=!0,c="UNDO";return{setBackground:function(n){o=n},setColor:function(n){t=n},setDeletedText:function(n){i=n},setIcon:function(n){e=n},setUndoAndroid:function(o){n=o},setUndoIos:function(n){r=n},setUndoText:function(n){c=n},$get:function(){return{background:o,color:t,deletedText:i,icon:e,isAndroid:n,isIos:r,undoText:c}}}}),n.module("ionicUndo.services",[]).factory("$ionicUndo",["$ionicUndoConfig","$log",function(o,t){var i,e=this,r=[],c={deleted:"",undo:""};return e.clear=function(){n.copy([],r)},e.get=function(){return 1===r.length?r[0]:r},e.getData=function(){return r},e.getText=function(){return c},e.init=function(t,e,d,s){n.isArray(t)||(t=[t]),n.copy(t,r),i=e,c.deleted=d||o.deletedText,c.undo=s||o.undoText},e.restore=function(){if(!n.isFunction(i))return t.error("No restore function defined!");try{return i().then(e.clear)}catch(o){e.clear()}},e.setDeletedText=function(n){c.deleted=n},e.setUndoText=function(n){c.undo=n},e}]),n.module("ionicUndo",["ionicUndo.directives","ionicUndo.providers","ionicUndo.services"])}(angular);